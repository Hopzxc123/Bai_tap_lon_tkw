<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Coffee House</title>
    <!-- hearder -->
    <link rel="stylesheet" href="/assets/css/style.css">
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css" />
    <!--<script src="/assets/javascript/js/bootstrap.bundle.min.js"></script>-->
    <!-- hearder -->
    <link href="/assets/image/logo/favicon_new.ico" rel="icon" type="image/x-icon" /> <!--icon-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
        integrity="sha512-Kc323vGBEqzTmouAECnVceyQqyqdsSiqLQISBL29aUW4U/M7pSPA/gEUZQqv1cwx4OnYxTxve5UMg5GT6L4JJg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" /><!--icon footer-->
    <link rel="stylesheet" href="/assets/css/order.css"> <!--css order-->
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    </head>
    

    <!--<link rel="stylesheet" href="/assets/css/thongbao.css">
    <link rel="stylesheet" href="/assets/javascript/thongbao.js">-->
    <script>
        let cartCount = 0; // Biến để lưu số lượng sản phẩm trong giỏ hàng
        
        function addToCart(name, price) {
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            // Tìm sản phẩm trong giỏ hàng
            const existingItem = cartItems.find(item => item.name === name);
            
            if (existingItem) {
                existingItem.quantity++; // Tăng số lượng nếu sản phẩm đã tồn tại
            } else {
                cartItems.push({ name: name, price: price, quantity: 1 }); // Thêm sản phẩm mới
            }
        
            localStorage.setItem('cartItems', JSON.stringify(cartItems));
            
            cartCount++; // Tăng số lượng sản phẩm
            updateCartCount(); // Cập nhật số lượng hiển thị
        
            showToast(name); // Hiển thị thông báo
            updateCartDisplay(); // Cập nhật giỏ hàng
        }
        
        function showToast(name) {
            const toast = document.querySelector('#toast');
            toast.innerText = `Thêm ${name} vào giỏ hàng thành công!`;
            toast.style.display = 'flex'; // Hiển thị toast
            setTimeout(() => {
                toast.style.opacity = '1'; // Đặt độ mờ thành 1
            }, 10); // Thêm độ trễ nhỏ để đảm bảo chuyển đổi hoạt động
        
            // Ẩn toast sau 3 giây
            setTimeout(() => {
                hideToast();
            }, 3000);
        }
        
        function hideToast() {
            const toast = document.querySelector('#toast');
            toast.style.opacity = '0'; // Đặt độ mờ thành 0 để ẩn
            setTimeout(() => {
                toast.style.display = 'none'; // Ẩn toast
            }, 500); // Đợi 500ms để hoàn thành hiệu ứng
        }
        
        // Hàm cập nhật giỏ hàng trên trang giohang.html
        function updateCartDisplay() {
            const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
            const cartContainer = document.getElementById('cartItems');
            cartContainer.innerHTML = ''; // Xóa danh sách cũ
        
            // Tạo danh sách sản phẩm
            cartItems.forEach(item => {
                const itemElement = document.createElement('div');
                itemElement.classList.add('cart-item');
                itemElement.innerHTML = `<p>${item.name} x ${item.quantity}</p><p>${(item.price * item.quantity).toLocaleString()}đ</p>`;
                cartContainer.appendChild(itemElement);
            });
        
            // Cập nhật tổng tiền
            const totalPrice = cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);
            document.getElementById('totalPrice').innerText = `${totalPrice.toLocaleString()}đ`;
        }
        
        // Cập nhật số lượng sản phẩm trong giỏ hàng
        function updateCartCount() {
    // Lấy giỏ hàng từ Local Storage
    const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
    
    // Tính tổng số lượng sản phẩm trong giỏ hàng
    const totalQuantity = cartItems.reduce((total, item) => total + item.quantity, 0);
    
    // Cập nhật nội dung thẻ span
    const cartCountElement = document.getElementById('cart-count');
    cartCountElement.innerText = totalQuantity > 0 ? totalQuantity : ''; // Nếu không có sản phẩm, bỏ trống
}

window.onload = function() {
    // Lấy giỏ hàng từ Local Storage
    const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
    
    // Hiển thị thông tin đơn hàng
    const orderDetailsElement = document.getElementById('orderDetails');
    orderDetailsElement.innerHTML = ''; // Xóa nội dung cũ

    cartItems.forEach(item => {
        const itemDetail = document.createElement('div');
        itemDetail.innerHTML = `<p>${item.name} - ${(item.price * item.quantity).toLocaleString('vi-VN', { style: 'currency', currency: 'VND' })} x ${item.quantity}</p>`;
        orderDetailsElement.appendChild(itemDetail);
    });

    // Cập nhật tổng tiền
    updateTotalPrice(); // Gọi hàm tính toán tổng tiền

    // Cập nhật số lượng giỏ hàng
    updateCartCount(); // Gọi hàm cập nhật số lượng giỏ hàng
};

// Hàm tính toán tổng tiền
function updateTotalPrice() {
    const cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
    const totalPrice = cartItems.reduce((total, item) => total + (item.price * item.quantity), 0);
    
    const totalPriceElement = document.getElementById('total-price');
    totalPriceElement.innerHTML = totalPrice.toLocaleString('vi-VN', { style: 'currency', currency: 'VND' });
}



        </script>
        
        
</head>

<body>
    <header>
        <nav class="navbar navbar-expand-lg fixed-top">
            <div class="container-fluid">
                <a class="navbar-brand me-auto" href="/public/home.html"><img src="/assets/image/logo/logo.svg"
                        class="img-fluid" alt="Logo" /></a>
                <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasNavbar"
                    aria-labelledby="offcanvasNavbarLabel">
                    <div class="offcanvas-header">
                        <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
                    </div>
                    <div class="offcanvas-body">
                        <ul class="navbar-nav justify-content-center flex-grow-1 pe-3">
                            <li class="nav-item">
                                <a class="nav-link mx-lg-2" href="order.html">Cà phê hạt rang </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link mx-lg-2" href="Tintuc.html">Tin tức</a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link mx-lg-2" href="shop.html">Cửa hàng </a>
                            </li>
                            <li class="nav-item">
                                <a class="nav-link mx-lg-2" href="#">Khuyến mãi</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <a href="#" class="login-button">
                    <a href="login.html" class="login-button">
                        <img src="/assets/image/logo/Login.70dc3d8.png" alt="" />
                        <span id="cart-count" style="
                        position: absolute; 
                        right: 22px; 
                        background-color: red; 
                        color: white; 
                        border-radius: 50%; 
                        padding: 0px 4px; 
                        font-size: 12px;">
                        0
                    </span>
                    </a>
        
                <a href="#" class="login-cart">
                    <a href="giohang.html" class="giohang-button">
                        <img src="/assets/image/logo/Carticon.373916c.png" alt="" style="width: 70px; height: 70px;" />
                    </a>
                <button class="navbar-toggler pe-0" type="button" data-bs-toggle="offcanvas"
                    data-bs-target="#offcanvasNavbar" aria-controls="offcanvasNavbar">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </nav>
    </header>
   
    <main>
        <!-- slide show -->
        <div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="0" class="active"
                    aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="1"
                    aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#carouselExampleDark" data-bs-slide-to="2"
                    aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner">
                <div class="carousel-item active" data-bs-interval="10000">
                    <img src="/assets/image/order/anh1.jpg" class="d-block w-100" alt="" />
                </div>
                <div class="carousel-item" data-bs-interval="2000">
                    <img src="/assets/image/order/anh2.jpg" class="d-block w-100" alt="" />
                </div>
                <div class="carousel-item">
                    <img src="/assets/image/order/anh3.jpg" class="d-block w-100" alt="" />
                </div>
            </div>
        </div>
        <!-- end slide show -->
        <!--tab-->
        <ul class="nav nav-pills justify-content-center">
            <li class="nav-item">
                <a class="nav-link active" href="#menu" data-bs-toggle="tab">
                    <div class="inner_under">
                        <div class="icon"><img src="../assets/image/order/li1.png" alt=""></div>
                        <div class="content">
                            <p>Signature CPG Coffee</p>
                        </div>
                    </div>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link" href="#menu2" data-bs-toggle="tab">
                    <div class="inner_under">
                        <div class="icon"><img src="/assets/image/order/li2.png" alt=""></div>
                        <div class="content">
                            <p>Cà phê - Trà đóng gói</p>
                        </div>
                    </div>
                </a>
            </li>
        </ul>
        <!--menu-->
        <div class="tab-content">
            <div class="tab-pane fade show active" id="menu">
                <div class="container-menu">
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper">
                                        <p>Túi tropical garden 200g</p>
                                    </div>
                                    <div class="price-and-order">
                                        <p>239.000đ</p>
                                        <div class="add">
                                            <a href="#" >
                                                <img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('TÚI TROPICAL GARDEN 200G', 239000)">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe2.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper  ">
                                        <p>TÚI VIETNAM TYPICA 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>199.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('TÚI VIETNAM TYPICA 200G', 199000)"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe3.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper  ">
                                        <p>TÚI ETHIOPIA GUJI SHAKISSO 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>289.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('TÚI ETHIOPIA GUJI SHAKISSO 200G', 289000)"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe4.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper  ">
                                        <p>TÚI NUT CRACKER 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>199.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('TÚI NUT CRACKER 200G', 199000)"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe5.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper  ">
                                        <p>TÚI SIGNATURE PHIN 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>199.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('TÚI SIGNATURE PHIN 200G', 199000)"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe6.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper  ">
                                        <p>TÚI CAMPFIRE 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>199.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('TÚI CAMPFIRE 200G', 199000)"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe7.jpg"></div>
                                <div class="box-item-2 ">
                                    <div class="content upper  ">
                                        <p>HỘP SIGNATURE PHIN 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>300.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('HỘP SIGNATURE PHIN 200G', 300000)"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1"><img src="../assets/image/order/cafe8.jpg"></div>
                                <div class="box-item-2">
                                    <div class="content upper  ">
                                        <p>Túi tropical garden 200g</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>350.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('HỘP SIGNATURE PHIN 200G', 300000)"></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe9.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper  ">
                                        <p>HỘP NUT CRACKER 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>300.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('TÚI TROPICAL GARDEN 200G', 350000)">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe10.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper  ">
                                        <p>HỘP CAMPFIRE 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>300.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('HỘP CAMPFIRE 200G', 300000)">
                                            </a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe11.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper  ">
                                        <p>HỘP VIETNAM TYPICA 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>300.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('HỘP VIETNAM TYPICA 200G', 300000)">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/cafe12.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper  ">
                                        <p>HỘP ETHIOPIA GUJI SHAKISSO 200G</p>
                                    </div>
                                    <div class="price-and-order    ">
                                        <p>390.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="Thêm sản phẩm" id="addItemButton" onclick="addToCart('HỘP ETHIOPIA GUJI SHAKISSO 200G', 390000)">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <div class="tab-pane fade" id="menu2">
                <div class="container-menu">
                    <a href="">
                        <div class="item">
                            <div class="box-item  ">
                                <div class="box-item-1  "><img src="../assets/image/order/tra.jpg"></div>
                                <div class="box-item-2  ">
                                    <div class="content upper">
                                        <p>Cà Phê Nguyên Hạt Arabica TCH (200gr)</p>
                                    </div>
                                    <div class="price-and-order">
                                        <p>100.000đ</p>
                                        <div class="add">
                                            <a href="#"><img src="../assets/image/order/dau_cong.svg" alt="" /></a>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
        </div>
        <!--end menu-->
        <!--end tab-->
    </main>
            <!--       thông báo        -->
            <div id="toast" style="
            display: none; 
            opacity: 0;
            background-color: #f0f9ff; 
            color: #333;
            padding: 13px; 
            border-radius: 8px;
            font-size: 16px; 
            position: fixed; 
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.2); 
            transition: opacity 0.5s ease, transform 0.5s ease;
            z-index: 1000; 
            display: flex; 
            align-items: center;
            transform: translateY(20px);
        ">
           <span> Thêm vào giỏ hàng thành công!</span>
        </div>
        
    <footer>
        <div class="foot1">
            <div class="in_foot1">
                <div class="in_in_foot1">
                    <div class="logo"><img src="../assets/image/order/logocafe_footer.png"></div>
                    <div class="list_foot">
                        <ul>
                            <li><a href="#" class="fb"><i class="fa-brands fa-facebook"></i></a></li>
                            <li><a href="#" class="yt"><i class="fa-brands fa-youtube"></i></a></li>
                            <li><a href="#" class="ins"><i class="fa-brands fa-instagram"></i></a></i></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <div class="foot2">
            <div class="in_foot2">
                <div class="in_in_foot2">
                    <div class="content">
                        <p>Công ty cổ phần thương mại dịch vụ Trà Cà Phê VN</p>
                        <p>Mã số DN: 0312867172 do sở kế hoạch và đầu tư tp. HCM cấp ngày 23/07/2014</p>
                        <p>Người đại diện: NGÔ NGUYÊN KHA</p>
                        <p>Địa chỉ: 86-88 Cao Thắng, phường 04, quận 3, tp Hồ Chí Minh Điện thoại: (028) 7107 8079
                            Email: hi@thecoffeehouse.vn</p>
                        <p>© 2014-2022 Công ty cổ phần thương mại dịch vụ Trà Cà Phê VN mọi quyền bảo lưu</p>
                    </div>
                    <div class="logo"><img src="../assets/image/order/logo_footer.png"></div>
                </div>
            </div>
        </div>
    </footer>
    
    
</body>

</html>